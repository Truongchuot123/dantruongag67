<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph·ª•c h·ªìi ch·ª©c nƒÉng h√¥ h·∫•p-Nguy·ªÖn Mai ƒêan Tr∆∞·ªùng</title>
     <meta name="description" content="Ch√†o b·∫°n! ƒê√¢y l√† kh√¥ng gian c√° nh√¢n c·ªßa ƒêan Tr∆∞·ªùng. Kh√°m ph√° th√¥i n√†o!.">
    <meta property="og:title" content="Trang Ch·ªß - Nguy·ªÖn Mai ƒêan Tr∆∞·ªùng">
    <meta property="og:description" content="Ch√†o b·∫°n! ƒê√¢y l√† kh√¥ng gian c√° nh√¢n c·ªßa ƒêan Tr∆∞·ªùng. Kh√°m ph√° th√¥i n√†o!.">
    <meta property="og:image" content="/hinhanh/logo_web.png">
    <meta property="og:url" content="https://dantruongag.id.vn">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="/hinhanh/logo_web.png" type="">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/banner_trang_con.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <style>
    </style>
</head>
    <body class="bg-gray-900">
    <div id="header-placeholder"></div>
    <div id="search-placeholder"></div>
    <header class="main-banner_trang_con">
        <div class="banner_trang_con-overlay"></div>
        <div class="hbanner_trang_con-image-bg"></div>

        <div class="hbanner_trang_con-content">
            <h1 class="main-title">PH·ª§C H·ªíI CH·ª®C NƒÇNG H√î H·∫§P <span class="icon-span">ü´Å</span></h1>
            <p class="sub-text">Ph·ª•c h·ªìi ch·ª©c nƒÉng l√† bi·ªán ph√°p gi·∫£m t·ªëi ƒëa t√°c ƒë·ªông c·ªßa gi·∫£m ch·ª©c nƒÉng v√† t√†n t·∫≠t, t·ª´ ƒë√≥, gi√∫p ng∆∞·ªùi b·ªánh h·ªôi nh·∫≠p ho·∫∑c t√°i h·ªôi nh·∫≠p v·ªõi x√£ h·ªôi. Nh·ªØng ch·ª©c nƒÉng n√†y c√≥ th·ªÉ thu·ªôc v·ªÅ ch·ª©c nƒÉng th·ªÉ ch·∫•t ho·∫∑c t√¢m th·∫ßn (kh·∫£ nƒÉng nh·∫≠n th·ª©c, t∆∞ duy,‚Ä¶)</p>
            <div class="hbanner_trang_con-tabs-wrap">
                <div id="category-tabs" class="category-scroll" aria-label="Danh m·ª•c b√†i vi·∫øt"></div>
            </div>
        </div>
    </header>
    <section id="articles-section" class="content-section">
        <div class="section-container">
            <div id="articles-container" class="articles-container"></div>
        </div>
    </section>

    <script>
        let currentCategory = 'tab_1';
        const DEFAULT_IMAGE = '/hinhanh/logo_web.png';

        const dataStore = {
            tab_1: { name: 'K·ªπ Thu·∫≠t H√¥ H·∫•p', articles: [
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/tho_mim_moi.html', 
                    title: 'K·ªπ thu·∫≠t th·ªü m√≠m m√¥i' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/tho_co_hoanh.html', 
                    title: 'K·ªπ thu·∫≠t th·ªü c∆° ho√†nh' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/tho_phoi_hop_van_dong_tay.html', 
                    title: 'K·ªπ thu·∫≠t th·ªü ph·ªëi h·ª£p v·∫≠n ƒë·ªông tay' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/tho_ra_manh.html', 
                    title: 'K·ªπ thu·∫≠t th·ªü ra m·∫°nh' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/tho_tung_thuy.html', 
                    title: 'K·ªπ thu·∫≠t th·ªü t·ª´ng th√πy' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/tho_theo_ty_le_phan_so.html', 
                    title: 'K·ªπ thu·∫≠t th·ªü theo t·ª∑ l·ªá ph√¢n s·ªë' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/huong_dan_ho.html', 
                    title: 'H∆∞·ªõng d·∫´n ho' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/AFE_chu_dong.html', 
                    title: 'K·ªπ thu·∫≠t t√¢ng t·ªëc th√¨ th·ªü ra (AFE)' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/vo_rung.html', 
                    title: 'K·ªπ thu·∫≠t v·ªó rung l·ªìng ng·ª±c' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Ki_thuat_ho_hap/dan_luu_tu_the.html', 
                    title: 'D·∫´n l∆∞u t∆∞ th·∫ø' 
                }
            ]},
            tab_2: { name: 'Ph√°p ƒë·ªì ƒëi·ªÅu tr·ªã', articles: [
                {   url: '/PHCN/PHCN_ho_hap/Phap_do_dieu_tri/phuc_hoi_chuc_nang_viem', 
                    title: 'Ph·ª•c h·ªìi ch·ª©c nƒÉng vi√™m ph·∫ø qu·∫£n m√£n t√≠nh' 
                },
                {   url: '/PHCN/PHCN_ho_hap/Phap_do_dieu_tri/phuc_hoi_chuc_nang_tran_dich', 
                    title: 'Ph·ª•c h·ªìi ch·ª©c nƒÉng tr√†n d·ªãch m√†ng ph·ªïi' 
                }
                 
            ]},
            tab_3: { name: 'L∆∞·ª£ng gi√° ch·ª©c nƒÉng', articles: [
                {   url: '', 
                    title: 'Ki·ªÉm so√°t hen suy·ªÖn: H∆∞·ªõng d·∫´n cho b·ªánh nh√¢n' 
                },
                {   url: '/cham_soc_benh_nhan_covid.html', 
                    title: 'ChƒÉm s√≥c b·ªánh nh√¢n COVID-19 t·∫°i nh√†' 
                }
            ]},
            tab_4: { name: 'Dinh D∆∞·ª°ng & L·ªëi S·ªëng', articles: [
                {   url: '', 
                    title: 'Ch·∫ø ƒë·ªô dinh d∆∞·ª°ng cho ng∆∞·ªùi b·ªánh ph·ªïi m·∫°n t√≠nh' 
                },
                {   url: '/hoat_dong_vat_ly.html', 
                    title: 'Ho·∫°t ƒë·ªông th·ªÉ l·ª±c ph√π h·ª£p ƒë·ªÉ c·∫£i thi·ªán h√¥ h·∫•p' 
                }
            ]}
        };

        const categoryColors = {
            tab_1: { bg: 'linear-gradient(90deg,#06b6d4,#3b82f6)', activeColor:'#071033', inactiveColor: '#0ea5e9' },
            tab_2: { bg: 'linear-gradient(90deg,#ef4444,#fb923c)', activeColor:'#071033', inactiveColor: '#fb923c' },
            tab_3: { bg: 'linear-gradient(90deg,#8b5cf6,#06b6d4)', activeColor:'#071033', inactiveColor: '#8b5cf6' },
            tab_4: { bg: 'linear-gradient(90deg,#f59e0b,#10b981)', activeColor:'#071033', inactiveColor: '#f59e0b' }
        };

        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if(entry.isIntersecting){
                    entry.target.classList.add('opacity-100');
                    obs.unobserve(entry.target);
                }
            });
        }, { threshold: 0.08 });

                function resolveArticleData(url){

            for(const k of Object.keys(dataStore)){
                const f = dataStore[k].articles.find(a => a.url === url);
                if(f){
                    // clone ƒë·ªÉ kh√¥ng s·ª≠a dataStore g·ªëc
                    return { title: f.title, imageUrl: DEFAULT_IMAGE };
                }
            }

            return { title: `Kh√¥ng t√¨m th·∫•y ti√™u ƒë·ªÅ (${url})`, imageUrl: DEFAULT_IMAGE };
        }

        function createArticleBox(targetUrl, container, index){
            const data = resolveArticleData(targetUrl);
            const box = document.createElement('a');
            box.href = targetUrl || '#';
            box.className = 'article-card transition-observer';
            box.style.transitionDelay = `${index * 50}ms`;

            let categoryKey = 'tab_1';
            for(const k of Object.keys(dataStore)){
                if(dataStore[k].articles.some(a => a.url === targetUrl)){
                    categoryKey = k;
                    box.dataset.cat = k;
                    break;
                }
            }

            box.innerHTML = `
        <div class="image-wrapper" aria-hidden="true">
          <img class="article-image" src="${DEFAULT_IMAGE}" alt="${data.title}" onerror="this.style.display='none'"/>
        </div>
        <div class="content-area">
          <span class="tag-pill">${dataStore[categoryKey].name}</span>
          <p class="article-title">${data.title}</p>
        </div>
      `;
      container.appendChild(box);
      observer.observe(box);
    }

        function renderCategories(){
            const tabs = document.getElementById('category-tabs');
            if(!tabs) return;
            tabs.innerHTML = '';
            let tabIndex = 1;
            Object.keys(dataStore).forEach(key => {
                const btn = document.createElement('button');
                btn.id = `tab_${tabIndex++}`;
                btn.className = 'category-btn';
                btn.dataset.key = key;

                const colorData = categoryColors[key] || {bg:'linear-gradient(90deg,#374151,#4b5563)', activeColor:'#fff', inactiveColor:'#94a3b8'};

                if(key === currentCategory){
                    btn.classList.remove('inactive');
                    btn.classList.add('active');
                    btn.style.background = colorData.bg;
                    btn.style.color = colorData.activeColor;
                    btn.innerHTML = `<span class="category-name-span" style="color: ${colorData.activeColor};">${dataStore[key].name}</span>
                                     <span class="category-count-span"> (${dataStore[key].articles.length})</span>`;
                } else {
                    btn.classList.remove('active');
                    btn.classList.add('inactive');
                    btn.innerHTML = `<span class="category-name-span" style="color: ${colorData.inactiveColor};">${dataStore[key].name}</span>
                                     <span class="category-count-span"> (${dataStore[key].articles.length})</span>`;
                }

                 btn.onclick = () => {
          if(key === currentCategory) return;
          currentCategory = key;
          renderCategories();
          renderArticles(); // show all trong category
          // scroll tab into view for better UX on mobile:
          btn.scrollIntoView({behavior:'smooth', inline:'center'});
        };
        tabs.appendChild(btn);
      });
    }

    // Render t·∫•t c·∫£ b√†i vi·∫øt c·ªßa category hi·ªán t·∫°i (KH√îNG ph√¢n trang, KH√îNG x√°o tr·ªôn)
    function renderArticles(){
      const container = document.getElementById('articles-container');
      const section = document.getElementById('articles-section');
      if(!container || !section) return;

      Array.from(container.children).forEach(c => observer.unobserve(c));
      container.innerHTML = '';

      const links = (dataStore[currentCategory]?.articles) || [];
      if(links.length === 0){
        const empty = document.createElement('div');
        empty.className = 'empty-state-box';
        empty.innerHTML = `<p>Kh√¥ng t√¨m th·∫•y b√†i vi·∫øt n√†o trong danh m·ª•c <strong>${dataStore[currentCategory]?.name || ''}</strong>.</p>`;
        container.appendChild(empty);
        return;
      }

      links.forEach((a, i) => createArticleBox(a.url, container, i));
      // ƒëi·ªÅu ch·ªânh padding n·∫øu c·∫ßn
      section.style.paddingBottom = '4rem';
    }

    document.addEventListener('DOMContentLoaded', () => {
      renderCategories();
      renderArticles();
      // resize debounce ƒë·ªÉ observe l·∫°i n·∫øu c·∫ßn
      window.addEventListener('resize', () => {
        clearTimeout(window._rt);
        window._rt = setTimeout(() => {
          document.querySelectorAll('.article-card').forEach(el => observer.observe(el));
        }, 120);
      });
    });
    </script>
        <div id="footer-placeholder"></div>

        <script src="/script.js"></script>
        <script src="/search.js"></script>
        <script src="/banner_trang_con.js"></script>
</body>
</html>
